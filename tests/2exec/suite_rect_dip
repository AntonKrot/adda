#------------------------- Variable definitons -------------------------------------------------------------------------
# All variable names should be enclosed in ';' and start the line - its value is assigned to the rest of the line. It
# can be defined through other variables defined below. Each variable must be defined only once.

# default for most tests
;mgn; ;m; ;g; ;n;
# default for two-domain particles
;2mgn; ;2m; ;g; ;n;
# for large computations (e.g. orientation averaging)
;mg4n; ;m; -grid 4 ;n;
# default addition to make particle completely non-symmetric
;sep; ;se; ;p;
# default for testing of different grids
;smn; -size 8 ;m; ;n;
;orient_abg; -orient ;alfa; ;beta; ;gamma;

# Elementary variables
;m; -m 1.1 0.1
;2m; -m 1.1 0.1 1.2 0.2
;3m; -m 1.05 0.1 1.1 0.2 1.2 0.3
;g; -grid 16
;n; -ntheta 5
;p; -prop 1 2 3
;se; -shape ellipsoid 0.5 1.5
;p_cldr; -pol cldr
;p_igt; -pol igt_so
;p_igt_int; -pol igt_so -int igt 3
#----------------------------- List of tests ---------------------------------------------------------------------------
# The format is the following: '<list,of,files,to,compare> <cmdline>' the first one is coma-separated list of files to
# compare or 'all' (which compares all produced files. <cmdline> is everything after the first space and it is passed
# directly to ADDA.
# Instead of 'all' a number of macros can be used: NOMPI, NOMPISEQ which is equivalent to 'all' for other modes, but
# causes the line to be skipped in the matching mode. NOMPI lines are skipped both in mpi and mpi_seq modes.

NORD2 ;p_igt_int;

# testing of different grids - relevant for FFT methods
# to remove redundant warnings for ocl_seq, only (2,3,5) numbers are used
NORD2 -grid 2 ;smn; ;p_igt_int;
NORD2 -grid 4 ;smn; ;p_igt_int;
NORD2 -grid 6 ;smn; ;p_igt_int;
NORD2 -grid 8 ;smn; ;p_igt_int;
NORD2 -grid 10 ;smn; ;p_igt_int;
NORD2 -grid 12 ;smn; ;p_igt_int;
all -grid 16 ;smn; ;p_igt_int;
all -grid 18 ;smn; ;p_igt_int;
all -grid 20 ;smn; ;p_igt_int;
all -grid 24 ;smn; ;p_igt_int;
all -grid 30 ;smn; ;p_igt_int;
all -grid 32 ;smn; ;p_igt_int;

#all -h alldir_inp
NORD2 -alldir_inp adp.dat -Csca ;mgn; ;p_igt_int;

#all -h anisotr
#all -anisotr ;3m; ;g; ;n;

#all -h asym
#all -asym ;sep; ;mgn;

#all -h beam
#all -h beam plane ;p_igt_int;
NORD2 -beam plane ;mgn; ;p_igt_int;
#all -h beam lminus ;p_igt_int;
NORD2 -beam lminus 2 1 2 3 ;mgn; ;p_igt_int;
#all -h beam davis3 ;p_igt_int;
NORD2 -beam davis3 2 1 2 3 ;mgn; ;p_igt_int;
#all -h beam barton5 ;p_igt_int;
NORD2 -beam barton5 2 1 2 3 ;mgn; ;p_igt_int;
NORD2 -beam barton5 2 ;mgn; ;p_igt_int;
NORD2 -beam dipole 3 2 1 ;p; ;mgn; ;p_igt_int;
#all -h beam read
NORD2 -beam read IncBeam-Y IncBeam-X ;se; ;mgn; ;p_igt_int;

#all -h chpoint
#all -chpoint 1s -eps 3 ;mgn; ;p_igt_int;
#all -h chp_type
#all -chp_type normal -chpoint 1s -eps 3 ;mgn; ;p_igt_int;
#all -chp_dir chp_tmp -chp_type regular -chpoint 1s -eps 3 ;mgn; ;p_igt_int;
#all -h chp_dir
#all -chp_dir chp_tmp -chp_type always -eps 3 ;mgn; ;p_igt_int;
#all -h chp_load
#NOMPISEQ -chp_dir chp_tmp -chp_load ;mgn; ;p_igt_int;

#all -h Cpr
all -Cpr ;mgn; ;p_igt_int;
all -Cpr ;sep; ;mgn; ;p_igt_int;

#all -h Csca
all -Csca ;se; ;mgn; ;p_igt_int;

#all -h dir

#all -h dpl ;p_igt_int;
all -dpl 20 ;mgn; ;p_igt_int;

#all -h eps
all -eps 10 ;mgn; ;p_igt_int;

#all -h eq_rad
all -eq_rad 1 ;mgn; ;p_igt_int;

# It is hard to make meaningful comparison of stdout and log for random placement of granules. However, optical
# properties are compared using rather large tolerances
#all -h granul
#CrossSec-Y,CrossSec-X,mueller -granul 0.2 0.5 2 -size 8 -shape coated 0.5 ;3m; ;n;
#CrossSec-Y,CrossSec-X,mueller -granul 0.2 2 2 -size 8 -shape coated 0.5 ;3m; ;n;

#all -h grid
all -grid 4 6 8 ;m; ;n; ;p_igt_int;
all -grid 10 10 10 -shape read sphere.geom -sym enf ;m; ;n; ;p_igt_int;

#all -h
#all -h h

#all -h init_field
all -init_field auto ;mgn; ;p_igt_int;
all -init_field inc ;mgn; ;p_igt_int;
NORD2 -init_field read IncBeam-Y IncBeam-X ;se; ;mgn; ;p_igt_int;
all -init_field wkb ;mgn; ;p_igt_int;
all -init_field zero ;mgn; ;p_igt_int;

#all -h int
all ;p_igt_int; ;mgn;
#all -int fcd_st ;mgn;
all -int igt ;mgn; ;p_igt;
#all -int igt 3 ;mg4n;
all -int igt 3 0.01 ;mgn; ;p_igt;
#all -int igt_so ;mgn;
#all -int nloc 0.1 ;mgn;
#all -int nloc 1 ;mgn;
#all -int nloc_av 0.1 ;mgn;
#all -int nloc_av 1 ;mgn;
#all -int poi ;mgn;
#all -int so ;mgn;

#all -h int_surf 
#all -int_surf img -surf 4 2 0 ;mgn; ;p_igt_int;
#all -int_surf som -surf 4 2 0 ;mgn; ;p_igt_int;

#all -h iter
all -iter bcgs2 ;mgn; ;p_igt_int;
all -iter bicg ;mgn; ;p_igt_int;
all -iter bicgstab ;mgn; ;p_igt_int;
all -iter cgnr ;mgn; ;p_igt_int;
all -iter csym ;mgn; ;p_igt_int;
all -iter qmr ;mgn; ;p_igt_int;
all -iter qmr2 ;mgn; ;p_igt_int;

#all -h jagged
all -jagged 2 ;mg4n; ;p_igt_int;

#all -h lambda
all -lambda 1 ;mgn; ;p_igt_int;

#all -h m
all -m 1.2 0.2 ;g; ;n; ;p_igt_int;

#all -h maxiter
all -maxiter 5 ;mgn; ;p_igt_int;

#all -h no_reduced_fft
all -no_reduced_fft ;mgn; ;p_igt_int;
NOMPI -no_reduced_fft -iter cgnr ;mgn; ;p_igt_int;

#all -h no_vol_cor
all -no_vol_cor -size 3 ;mgn; ;p_igt_int;

#all -h ntheta
all -ntheta 10 ;m; ;g; ;p_igt_int;

#all -h opt
all -opt speed ;mgn; ;p_igt_int;
all -opt mem ;mgn; ;p_igt_int;

#all -h orient
all -orient 30 0 0 ;mgn; ;p_igt_int;
all -orient 10 20 30 ;se; ;mgn; ;p_igt_int;
all -orient 10 20 30 ;se; ;mgn; ;p; -scat_matr both ;p_igt_int;
all -orient avg ;se; ;mg4n; ;p_igt_int;
all -orient avg ap.dat ;se; ;mg4n; ;p_igt_int;

#all -h phi_integr
all -phi_integr 31 ;sep; ;mgn; ;p_igt_int;

#all -h pol
all -pol cldr ;p; ;mgn;
all -pol cm ;mgn;
#all -pol dgf ;mgn;
#all -pol fcd ;mgn;
#all -pol igt_so ;mgn;
#all -pol lak ;mgn;
#all -pol ldr ;p; ;mgn;
#all -pol ldr avgpol ;p; ;mgn;
#all -pol nloc 0.1 ;mgn;
#all -pol nloc 1 ;mgn;
#all -pol nloc_av 0.1 ;mgn;
#all -pol nloc_av 1 ;mgn;
#all -pol rrc ;mgn;
#all -pol so ;p; ;mgn;

#all -h prognosis
all -prognosis ;p_igt_int;

#all -h prop
all -prop 5 1 3 ;se; ;mgn; ;p_igt_int;
all -prop 0 0 -1 ;mgn; ;p_igt_int;
all -prop 1 0 0 ;mgn; ;p_igt_int;
all -prop 0 1 0 ;mgn; ;p_igt_int;

#all -h recalc_resid
all -recalc_resid ;mgn; ;p_igt_int;

#all -h save_geom
all -save_geom -shape coated 0.4 0.1 0.15 0.2 -prognosis ;p_igt_int;
#all -h sg_format
#all -save_geom -shape ellipsoid 0.5 0.25 -prognosis -sg_format text
#all -save_geom -shape ellipsoid 0.5 0.25 -prognosis -sg_format text_ext
#all -save_geom -shape ellipsoid 0.5 0.25 -prognosis -sg_format ddscat6
#all -save_geom -shape ellipsoid 0.5 0.25 -prognosis -sg_format ddscat7

#all -h scat
all -scat dr ;mgn; ;p_igt_int;
all -scat fin ;mgn; ;p_igt_int;
all -scat igt_so ;mgn; ;p_igt_int;
all -scat so ;mgn; ;p_igt_int;

#all -h scat_grid_inp
all -scat_grid_inp sp.dat ;mgn; ;p_igt_int;

#all -h scat_matr
all -scat_matr muel ;mgn; ;p_igt_int;
all -scat_matr ampl ;mgn; ;p_igt_int;
all -scat_matr both ;mgn; ;p_igt_int;
all -scat_matr none ;m; ;g; ;p_igt_int;

#all -h scat_plane
all -scat_plane ;se; ;mgn; ;p_igt_int;

#all -h shape
#all -h shape axisymmetric ;p_igt_int;
all -shape axisymmetric 196.txt ;mgn; ;p_igt_int;
#all -h shape bicoated ;p_igt_int;
#all -shape bicoated 3 0.5 ;2mgn;
#all -h shape biellipsoid ;p_igt_int;
#all -shape biellipsoid 0.5 1.5 0.75 0.5 1.5 ;2mgn;
#all -h shape bisphere ;p_igt_int;
#all -shape bisphere 2 ;mgn;
#all -h shape box
all -shape box ;mgn; ;p_igt_int;
all -shape box 0.5 1.5 ;mgn; ;p_igt_int;
#all -h shape capsule ;p_igt_int;
all -shape capsule 1.5 ;mgn; ;p_igt_int;
#all -h shape chebyshev ;p_igt_int;
all -shape chebyshev 0.3 5 ;mgn; ;p_igt_int;
#all -h shape coated ;p_igt_int;
#all -shape coated 0.5 ;2mgn;
#all -shape coated 0.4 0.1 0.15 0.2 ;2mgn; ;p_igt_int;
#all -h shape cylinder ;p_igt_int;
all -shape cylinder 1 ;mgn; ;p_igt_int;
#all -h shape egg ;p_igt_int;
all -shape egg 0.5 0.2 ;mgn; ;p_igt_int;
#all -h shape ellipsoid ;p_igt_int;
all -shape ellipsoid 0.25 2 ;mgn; ;p_igt_int;
#all -h shape line ;p_igt_int;
all -shape line -grid 16 ;m; ;n; ;p_igt_int;
#all -h shape plate ;p_igt_int;
all -shape plate 0.5 ;mgn; ;p_igt_int;
#all -h shape prism ;p_igt_int;
all -shape prism 5 1.5 ;mgn; ;p_igt_int;
#all -h shape rbc ;p_igt_int;
all -shape rbc 0.3 0.1 0.3 ;mgn; ;p_igt_int;
#all -h shape read
all -shape read ellipsoid.geom ;m; ;n; ;p_igt_int;
#all -shape read coated.geom ;2m; ;n;
all -shape read ell_ddscat6.dat ;m; ;n; ;p_igt_int;
all -shape read ell_ddscat7.dat ;m; ;n; ;p_igt_int;
#all -h shape sphere
all -shape sphere ;mgn; ;p_igt_int;
#all -h shape spherebox ;p_igt_int;
#all -shape spherebox 0.5 ;2mgn;

#all -h size
all -size 8 ;mgn; ;p_igt_int;

#all -h store_beam
all -store_beam ;se; ;mgn; ;p_igt_int;

#all -h store_dip_pol
all -store_dip_pol ;se; ;mgn; ;p_igt_int;

#all -h store_force
all -store_force ;sep; ;mgn; ;p_igt_int;

#all -h store_grans
#granules -store_grans -granul 0.2 1 -size 4 ;2mgn;

#all -h store_int_field
all -store_int_field ;se; ;mgn; ;p_igt_int;

#all -h store_scat_grid
all -store_scat_grid ;sep; ;mgn; ;p_igt_int;

#all -h surf
NORD2 -surf 4 2 0 ;mgn; ;p_igt_int;
NORD2 -surf 4 3 4 ;p; ;mgn; ;p_igt_int;
NORD2 -surf 4 3 4 -prop 1 2 -3 ;se; ;mgn; ;p_igt_int;
NORD2 -surf 4 inf -prop 1 2 -3 ;se; ;mgn; ;p_igt_int;
NORD2 -surf 4 2 0 -no_reduced_fft ;mgn; ;p_igt_int;
NORD2 -surf 4 2 1 -beam dipole 3 2 1 ;p; ;mgn; ;p_igt_int;
NORD2 -surf 4 inf -beam dipole 3 2 1 ;p; ;mgn; ;p_igt_int;
NOMPI -surf 4 2 0 -iter cgnr -no_reduced_fft ;mgn;  ;p_igt_int;

#all -h sym
all -sym auto ;mgn; ;p_igt_int;
all -sym no ;mgn; ;p_igt_int;
all -sym enf ;mgn; ;p_igt_int;
all -sym auto ;sep; ;mgn; ;p_igt_int;
all -sym no ;sep; ;mgn; ;p_igt_int;
all -sym enf ;sep; ;mgn; ;p_igt_int;

#all -h test
all -test ;mgn; ;p_igt_int;

#all -h V
#all -V

#all -h vec
all -vec ;sep; ;mgn; ;p_igt_int;

#all -h yz
all -yz -store_scat_grid ;mgn; ;p_igt_int;